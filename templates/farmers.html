{% extends "layout.html" %}
{% block body %}
<div class="row" id='myitems'>
  <div data-bind="foreach: status">
    <div data-bind="alert: $data"></div>
  </div>
  <div class="form-group col-lg-10 col-md-10 col-sm-10">
    <h4>You are logged in as {{ current_user.email }}</h4>
    <table class="table table-striped table-bordered table-condensed resizable">
      <thead><tr>
        <th style="width: 15%;">Name</th><th style="width: 48%;">Description</th><th style="width: 7%;">Units</th><th style="width: 7%;">In Stock</th><th style="width: 10%;">Price/Unit (â‚¬)</th><th style="width: 7%;">Available</th><th style="width: 7%;">Remove</th>
      </tr></thead>
      <tbody data-bind="foreach: items">
        <td><input data-bind="value: $data.name"></input></td>
        <td><input data-bind="value: $data.description"></input></td>
        <td><input data-bind="value: $data.units"></input></td>
        <td><input data-bind="value: $data.max_available"></input></td>
        <td><input data-bind="value: $data.price"></input></td>
        <td class="center"><input type="checkbox" data-bind="checked: $data.active"></input></td>
        <td class="center"><button type="button" class="btn btn-danger btn-xs" data-bind="click: $root.removeItem.bind($data)">X</button></td>
      </tbody>
    </table>
    <div class="pull-right">
      <button id="download" type="button" class="btn btn-secondary">Download</button>
      <span class="btn btn-file">
        <input id="files" type="file" name="files[]" multiple>Upload</input>
      </span>
      <button id="getold" type="button" class="btn btn-secondary">Fetch Last Week's Items</button>
    </div>
    <button id="newitem" type="button" class="btn btn-primary">Add a New Item</button>
    <button id="submititems" type="button" class="btn btn-primary">Update My Items</button>
  </div>
</div>
<body>
  {% include "_scripts.html" %}
  {% assets "jsItems" %}
    <script type="text/javascript" src="{{ ASSET_URL }}"></script>
  {% endassets %}</body>
{% endblock %}